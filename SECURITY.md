# –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

## –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏

### üîí Backend –±–µ–∑–ø–µ–∫–∞

#### Rate Limiting
- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∏–π –ª—ñ–º—ñ—Ç: 100 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ 15 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è: 5 —Å–ø—Ä–æ–± –∑–∞ 15 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ API –ª—ñ–º—ñ—Ç: 60 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

#### –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è
- ‚úÖ Escape HTML —Å–∏–º–≤–æ–ª—ñ–≤ —É –≤—Å—ñ—Ö string –ø–æ–ª—è—Ö
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ SQL injection –ø–∞—Ç—Ç–µ—Ä–Ω–∏
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ XSS –ø–∞—Ç—Ç–µ—Ä–Ω–∏
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è Content-Type –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤

#### CSRF –∑–∞—Ö–∏—Å—Ç
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ CSRF —Ç–æ–∫–µ–Ω—ñ–≤ –¥–ª—è POST/PUT/DELETE –∑–∞–ø–∏—Ç—ñ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤ –¥–ª—è —Å–µ—Å—ñ–π

#### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–ø–µ–∫–∏ (Helmet)
- ‚úÖ Content Security Policy (CSP)
- ‚úÖ X-Frame-Options: DENY
- ‚úÖ X-Content-Type-Options: nosniff
- ‚úÖ X-XSS-Protection: 1; mode=block
- ‚úÖ Strict-Transport-Security (HSTS)
- ‚úÖ Referrer-Policy

#### –õ–æ–≥—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø—ñ–¥–æ–∑—Ä—ñ–ª–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–ø—Ä–æ–± –∞—Ç–∞–∫
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö POST/PUT/DELETE –∑–∞–ø–∏—Ç—ñ–≤

### üìä –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

#### –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º–∏
- ‚úÖ CPU –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- ‚úÖ –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à—É

#### Health Check –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
- ‚úÖ `/api/health` - –±–∞–∑–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ `/api/health/detailed` - –¥–µ—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ `/api/health/metrics` - —Å–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ `/api/health/live` - liveness probe
- ‚úÖ `/api/health/ready` - readiness probe

#### –ê–ª–µ—Ä—Ç–∏ —Ç–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –∞–ª–µ—Ä—Ç–∏ –ø—Ä–∏ –≤–∏—Å–æ–∫–æ–º—É CPU (>80%)
- ‚úÖ –ê–ª–µ—Ä—Ç–∏ –ø—Ä–∏ –≤–∏—Å–æ–∫–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –ø–∞–º'—è—Ç—ñ (>85%)
- ‚úÖ –ê–ª–µ—Ä—Ç–∏ –ø—Ä–∏ –≤–∏—Å–æ–∫–æ–º—É —Ä—ñ–≤–Ω—ñ –ø–æ–º–∏–ª–æ–∫ (>5%)
- ‚úÖ –ê–ª–µ—Ä—Ç–∏ –ø—Ä–∏ –ø–æ–≤—ñ–ª—å–Ω–æ–º—É —á–∞—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (>2s)

### üíæ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ backup'–∏
- ‚úÖ –©–æ–¥–µ–Ω–Ω—ñ backup'–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 7 backup'—ñ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö backup'—ñ–≤
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π backup'—É

#### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è backup'–∞–º–∏
- ‚úÖ API –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è backup'—ñ–≤
- ‚úÖ API –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ backup'—É
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –¥–æ—Å—Ç—É–ø–Ω–∏—Ö backup'—ñ–≤
- ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–æ–∑–º—ñ—Ä —Ç–∞ –¥–∞—Ç—É backup'—ñ–≤

### üõ°Ô∏è Frontend –±–µ–∑–ø–µ–∫–∞

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç SecurityStatus
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ HTTPS –∑'—î–¥–Ω–∞–Ω–Ω—è
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ CSP –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å XSS –∑–∞—Ö–∏—Å—Ç—É
- ‚úÖ –°—Ç–∞—Ç—É—Å CSRF –∑–∞—Ö–∏—Å—Ç—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Rate Limiting

## üìã API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –±–µ–∑–ø–µ–∫–∏

### Health Check
```
GET /api/health              - –ë–∞–∑–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å
GET /api/health/detailed     - –î–µ—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å
GET /api/health/metrics      - –°–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
GET /api/health/live         - Liveness probe
GET /api/health/ready        - Readiness probe
```

### –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è (–ø–æ—Ç—Ä–µ–±—É—î admin —Ä–æ–ª—ñ)
```
GET /api/admin/metrics       - –°–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
GET /api/admin/status        - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏
POST /api/admin/backup       - –°—Ç–≤–æ—Ä–∏—Ç–∏ backup
GET /api/admin/backups       - –°–ø–∏—Å–æ–∫ backup'—ñ–≤
POST /api/admin/restore/:id  - –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ backup'—É
DELETE /api/admin/logs       - –û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–≥–∏
GET /api/admin/settings      - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
```

## üö® –ê–ª–µ—Ä—Ç–∏ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ö—Ä–∏—Ç–∏—á–Ω—ñ –∞–ª–µ—Ä—Ç–∏
- **CPU > 80%**: –í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å–æ—Ä
- **Memory > 85%**: –ö—Ä–∏—Ç–∏—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- **Error Rate > 5%**: –í–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –ø–æ–º–∏–ª–æ–∫
- **Response Time > 2s**: –ü–æ–≤—ñ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –õ–æ–≥—É–≤–∞–Ω–Ω—è
–í—Å—ñ –ø–æ–¥—ñ—ó –±–µ–∑–ø–µ–∫–∏ –ª–æ–≥—É—é—Ç—å—Å—è –∑ —Ä—ñ–≤–Ω—è–º–∏:
- **INFO**: –ó–≤–∏—á–∞–π–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- **WARN**: –ü—ñ–¥–æ–∑—Ä—ñ–ª–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- **ERROR**: –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏

### –§–∞–π–ª–∏ –ª–æ–≥—ñ–≤
```
logs/combined.log    - –í—Å—ñ –ª–æ–≥–∏
logs/error.log       - –¢—ñ–ª—å–∫–∏ –ø–æ–º–∏–ª–∫–∏
logs/exceptions.log  - –ù–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ –≤–∏–Ω—è—Ç–∫–∏
logs/rejections.log  - –í—ñ–¥—Ö–∏–ª–µ–Ω—ñ Promise'–∏
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000      # 15 —Ö–≤–∏–ª–∏–Ω
RATE_LIMIT_MAX_REQUESTS=100      # –ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Ç—ñ–≤

# Backup
BACKUP_DIR=/path/to/backups      # –ü–∞–ø–∫–∞ –¥–ª—è backup'—ñ–≤
MAX_BACKUPS=7                    # –ö—ñ–ª—å–∫—ñ—Å—Ç—å backup'—ñ–≤ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
BACKUP_INTERVAL="0 2 * * *"      # Cron —Ä–æ–∑–∫–ª–∞–¥

# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
DB_HOST=localhost
DB_PORT=5432
DB_NAME=learning_school
DB_USER=postgres
DB_PASSWORD=your_password

# –ë–µ–∑–ø–µ–∫–∞
CORS_ORIGIN=https://yourdomain.com
JWT_SECRET=your_jwt_secret
CSRF_SECRET=your_csrf_secret
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ production

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
1. **Prometheus + Grafana** - –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –¥–∞—à–±–æ—Ä–¥–∏
2. **ELK Stack** - –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
3. **Sentry** - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ–º–∏–ª–æ–∫
4. **New Relic / DataDog** - APM –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–ª–µ—Ä—Ç—ñ–≤
```yaml
# –ü—Ä–∏–∫–ª–∞–¥ Prometheus –∞–ª–µ—Ä—Ç—ñ–≤
groups:
  - name: api_alerts
    rules:
      - alert: HighErrorRate
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
        for: 2m
        labels:
          severity: critical
        annotations:
          summary: "High error rate detected"
          
      - alert: HighResponseTime
        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 2
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High response time detected"
```

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è backup'—É
```bash
curl -X POST http://localhost:4000/api/admin/backup \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
```bash
curl http://localhost:4000/api/health/detailed
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫
```bash
curl http://localhost:4000/api/health/metrics
```

## üîç –ê—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏

### –†–µ–≥—É–ª—è—Ä–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (`npm audit`)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤
- [ ] –ê–Ω–∞–ª—ñ–∑ –ª–æ–≥—ñ–≤ –Ω–∞ –ø—ñ–¥–æ–∑—Ä—ñ–ª—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è backup'—ñ–≤ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å firewall

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∞—É–¥–∏—Ç—É
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π
npm audit

# –ê–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏ –∫–æ–¥—É
npm install -g eslint-plugin-security
eslint --ext .js src/

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ–Ω–∏–∫–Ω–µ–Ω–Ω—è
nmap -sV your-server.com
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Node.js Security Checklist](https://blog.risingstack.com/node-js-security-checklist/)
- [Express Security Best Practices](https://expressjs.com/en/advanced/best-practice-security.html)
- [Helmet.js Documentation](https://helmetjs.github.io/)

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **WAF (Web Application Firewall)** - –î–æ–¥–∞—Ç–∏ Cloudflare –∞–±–æ AWS WAF
2. **2FA** - –î–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤
3. **Encryption at rest** - –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤ –±–∞–∑—ñ
4. **API versioning** - –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API –¥–ª—è –±–µ–∑–ø–µ–∫–∏
5. **Security headers** - –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–ø–µ–∫–∏